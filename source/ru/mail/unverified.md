---
categories: ['Почта']
layout: bootstrap-sticky-footer
title:  "Сайт отправляет почту от unverified@beget.com"
description: ""
keywords: ['unverified']
---
{% question %}
Почта, отправляемая сайтом, приходит к адресату от unverified@beget.com, игнорируя настройки сайта. Почему так происходит?
{% endquestion %}

{% answer %}
Почтовые сервера Beget принудительно меняют заголовок письма
{% endanswer %}

{% question %}
Зачем они это делают?
{% endquestion %}

{% answer %}
Вкратце: чтобы почтовики (Mail.ru, Yandex, Rambler, GMail и другие) не забанили почтовый сервер BeGet
{% endanswer %}

{% question %}
И что делать?
{% endquestion %}

{% answer %}
 Ставить правильный заголовок. Ну серьёзно. Письмо отправляется с ford.ru? Пишем в заголовок admin@ford.ru. Письмо отправляется с example.com? Пишем в заголовок admin@example.com. И так далее.
{% endanswer %}

{% BootstrapWarningR10 %}
Вместо admin@ можно поставить любой ящик, это не принципиально.
{% endBootstrapWarningR10 %}

{% BootstrapWarningR10 %}
Не обязательно, чтобы ящик admin@ (или любой другой выбранный) существовал. Хотя и желательно - не далёк тот момент, когда будут проверять и это.
{% endBootstrapWarningR10 %}

{% question %}
Как это сделать? Где это делается?
{% endquestion %}

{% answer %}
В настройках CMS или в коде вашего сайта.

- __Bitrix__: точной информации в официальной документации не нашли, но данный пункт должен настраиваться в "Настройки > Настройки продукта > Почтовые события > Почтовые шаблоны"
- __Drupal 6/7__: Если вы используете для отправки внутреннее API друпала, то возможно вам поможет [ссылка на официальную документацию](https://api.drupal.org/api/drupal/modules%21system%21system.api.php/function/hook_mail_alter/7.x)
- [Joomla](./unverified-joomla.html)
- [Opencart](./unverified-opencart.html)
- __Prestashop__: посмотреть решение вы можете на [официальном форуме поддержки Prestashop](https://www.prestashop.com/forums/topic/193476-how-to-change-address-of-email-notifications/) . Вкратце: `Preferences`->`Store contacts`->`Shop e-mail`
- [Wordpress](./unverified-wordpress.html)
{% endanswer %}

{% question %}
Но я хочу, чтобы когда люди отвечали на письмо, ответ приходил на мою личную почту, я не читаю доменную почту и не горю желанием этого делать
{% endquestion %}

{% answer %}
Для этого есть заголовок `REPLY-TO`: когда человек будет отвечать на письмо, в качестве адресата будет подставлен не тот адрес, который в FROM, а тот, который в REPLY-TO. И в REPLY-TO можно указать любой ящик.

А еще можно настроить переадресацию писем или синхронизацию почтовых ящиков в личном кабинете на хостинге, но вариант с Reply-To как-то попроще
{% endanswer %}

{% question %}
Мне не нравится ваша автозамена! Я хочу отправлять письма с тем заголовком, с которым захочу! Не трогайте мои письма!
{% endquestion %}

{% answer %}
Никаких проблем, пишем соответствующий запрос [в тикет-систему](https://cp.beget.com/support) и пополняем баланс на 660 рублей в год. 
Они пойдут на оплату выделенного IP, через который будет отправляться вся почта вашего аккаунта. 
Тем самым хостер обезопасит себя и свой сервер - если почтовики забанят IP, они забанят персонально ваш, а не общесерверный. 

Но мы бы всё-таки не советовали этого делать - война с почтовиками заведомо проигрышная и для вас, и для ваших клиентов.
{% endanswer %}

{% question %}
Так всё-таки зачем они это делают? Кто и за что забанит BeGet?
{% endquestion %}

{% answer %}
Да, тут стоит остановиться подробнее. Спам стал глобальной проблемой, чуть ли не половина всех писем в интернете - спам. И все почтовики активно с ним воюют. Перемещают письма в "СПАМ", отправляют сервера-отправители в grey-листы, а иногда и black-листы... Существует множество проверок на спам, и сегодня мы рассмотрим одну из них - провка домена отправителя в поле FROM. Проверяется соответствие - что указано в поле FROM и откуда было отправлено письмо на самом деле.

Рассмотрим гипотетическую ситуацию: вы владеете доменом `ford.ru`, делаете почтовую рассылку, указывая в поле отправителя (FROM) `ford@mail.ru`. Одним из получателей письма является `buyer@rambler.ru`. Почтовый сервер рамблера видит, что

- письмо отправлено якобы от mail.ru
- письмо на самом деле с отправлено с серверов хостера BeGet
- mail.ru и beget.ru между собой никак не связаны

и делает вывод, что

- письмо является спамом и его нужно пометить как "спам" (или удалить, в особо тяжёлых случаях массового злоупотребления)
- BeGet занимается рассылкой спама и его сервер нужно занести в grey-лист{%RefLink 1%} (или в black-лист{%RefLink 2%}, в особо тяжёлых случаях массового злоупотребления) 

 То есть получается что письма "кривой рассылки" и сами не дошли до адресатов, и подставили всех клиентов, находящихся на сервере

 Особой "жестокостью" отличился mail.ru и, в последнее время, Rambler. Эти товарищи очень бодро банят сервера при малейшем намёке на спам.

 Заменяя заголовок отправителя на `unverified@beget.com`, BeGet повышает шансы, что письмо не будет воспринято как спам, а его сервер не попадёт листы нарушителей. Хотя против mail.ru не всегда работает даже это :( Если у вас есть возможность не использовать для сайта почтовый ящик на mail.ru - не используйте.
 {% endanswer %}

---

{%Refer 1%}
Grey-list означает, что письмо будет доставлено с задержкой (от нескольких часов, до нескольких суток).
{%endRefer%}

{%Refer 2%}
Black-лист означает, что сервер забанен и никакая почта с него приниматься не будет.
{%endRefer%}
